\clearpage
\section{Structural Characterisations}
\label{sec:interpreting-paths}

In this section, we will be interested in extracting a very regular structure
from a graph class $\mathcal{C}$ that is not \kl{$\forall$-well-quasi-ordered}.
This structure will take two forms, the first one is a combinatorial notion of
\kl{periodic antichain} that is similar to the one proposed in \cite[Section
7]{ALM17}, and the second one is a logical property of \kl{existentially
transducing} the class of all finite paths.

\begin{definition}[Periodic Sequence]
  A \intro{periodic sequence (of graphs)} is given by a finite graph $G$,
  a labelling function $\lab \colon V(G) \to \Sigma$ for some finite set
  $\Sigma$, and two finite sets $C, F \subseteq \Sigma^2$. It defines
  an infinite set of graphs $\seqof{G^r}[r \geq 1]$ as follows:
  the vertex set of $G^r$ is $V(G) \times \set{1, \ldots, r}$, and there is an edge
  between $(u,i)$ and $(v,j)$ with $i \leq j$ if and only if one of the following holds:
  \begin{itemize}
      \item $(u,v) \in E(G)$ and $i = j$;
      \item $(\lab(u), \lab(v)) \in C$ and $|i - j| = 1$
      \item $(\lab(u), \lab(v)) \in F$ and $|i - j| > 1$.
  \end{itemize}
\end{definition}

It follows from results of the previous section that one can extract
\kl{periodic antichains} from any hereditary class of graphs that is not
\kl{$\forall$-well-quasi-ordered}, answering positively to a variant of
\cite[Conjecture 2]{ALM17} in the case of hereditary classes of bounded
clique-width.

\begin{lemma}
  \label{lem:regular-antichain}
  If a hereditary class of graphs $\Cls$ is not \kl{$\forall$-well-quasi-ordered},
  then it contains a \kl{periodic sequence} $\seqof{G^r}[r \geq 1]$ that is an
  \kl{antichain} for the \kl{labelled induced subgraph} relation.
\end{lemma}
\begin{proof}
  todo aliaume
\end{proof}

Let us briefly comment on the fact that the exact statement of \cite[Conjecture
2]{ALM17} does not hold, on hereditary classes of bounded clique-width. 

\begin{example}
  \label{example:split-permutations}
  The class of \intro{split permutation graphs} is the class of graphs 
  $S_n$ whose vertex set is $\set{a_1, \ldots, a_n, b_1, \ldots, b_n}$,
  where the set $\set{a_1, \ldots, a_n}$ induces a clique, the set
  $\set{b_1, \ldots, b_n}$ induces an independent set
  and there is an edge between $a_i$ and $b_j$ if and only if
  $i = j$ or $i + 1 \leq j$.

  This class is known to be of bounded clique-width, is not 
  \kl{$\forall$-well-quasi-ordered}, and yet does not 
  contain a \emph{periodic antichain} as stated in \cite[Conjecture 2]{ALM17}.
\end{example}
\begin{proof}
  Recall that the definition of a \kl{weak periodic antichain} in \cite[Conjecture
  2]{ALM17} is obtained as follows: given a finite alphabet $\Sigma$, and 
  a finite set $S \subseteq \Sigma^2$, one can map a word 
  $w \in \Sigma^*$ to a graph $G_w$ whose vertex set is
  the positions of $w$, and where there is an edge between two positions
  $i + 1 < j$ if and only if $(w[i], w[j]) \in S$,
  and an edge between two consecutive positions $i$ and $i + 1$
  if and only if $(w[i], w[i + 1]) \not\in S$.

  In this setting, a \intro{(weak) periodic sequence} is given by a finite word $u
  \in \Sigma^+$, and a finite set $S \subseteq \Sigma^2$, and defines the
  infinite set of graphs $\seqof{G_{u^r}}[r \geq 1]$.
  It is easy to see that every \kl{weak periodic sequence} is also a
  \kl{periodic sequence} as defined in this paper, by grouping the vertices of
  $u$ into a single graph $G$ and adapting colors.

  Finally, a \intro{weak periodic antichain} is a \kl{weak periodic sequence}
  that is an \kl{antichain} for the \kl{labelled induced subgraph} relation
  when the first and last letters of the words $u^r$ are given distinct colors.

  Let us prove that any antichain contained in the \kl{hereditary closure} of the
  class of \kl{split permutation graphs} cannot be a \kl{weak periodic antichain}.

  \todo[inline]{\textbf{MAEL ICI}}

  \begin{itemize}
      \item Observe that to be an antichain, we must contain large 
        \kl{split permutation graphs} as induced subgraphs, otherwise 
        this is an independent set or a clique or a half-graph.
      \item Observe that no \kl{weak periodic sequence} 
        can define arbitrarily large \kl{split permutation graphs}, 
        because of the ``skip'' behaviour. \textbf{I do not know how 
        to formally prove this yet}.
  \end{itemize}

\end{proof}


\AP Let us now leverage this combinatorial structure to extract a logical
property of the class $\Cls$. Let us recall that an \intro{existential
interpretation} from (labelled) graphs to graphs is given by an existential
first order formula $\phi_{\text{univ}}(x)$ that selects the vertices of the
interpreted graph, an existential first order formula $\phi_{\text{edge}}(x,y)$
that selects the edges of the interpreted graph, and an existential first order
formula $\phi_{\text{dom}}$ that selects the graphs of $\Cls$ on which the
interpretation is defined. The semantics is that for every graph $G \in \Cls$
satisfying $\phi_{\text{dom}}$, the interpreted graph $\mathcal{I}(G)$ has for
vertex set the vertices of $G$ satisfying $\phi_{\text{univ}}$, and has an edge
between two vertices $u,v$ if and only if $G$ satisfies
$\phi_{\text{edge}}(u,v)$ (which is assumed to be symmetric and irreflexive on
the selected vertices). A class $\Cls$ \intro{existentially interprets} a class
$\mathcal{D}$ if there exists an existential interpretation $\someInterp$ from
$\Cls$ to graphs such that $\mathcal{D} \subseteq \someInterp(\Cls)$. We say
that $\Cls$ \intro{existentially transduces} $\mathcal{D}$ if there exists a
finite labelling set $\Sigma$ such that $\Label{\Sigma}{\Cls}$ \kl{existentially
interprets} $\mathcal{D}$.


\begin{lemma}
  \label{lem:paths-transduction}
  Let $\Cls$ be a \kl{periodic antichain} (having the coloring defined) as in 
  \cref{lem:regular-antichain}. Then $\Cls$ \kl{existentially interprets}
  the class of all finite paths.
\end{lemma}
\begin{proof}
  \todo[inline]{\textbf{MAEL ICI}}
\end{proof}

\begin{corollary}
  \label{cor:not-wqo-implies-transducing-paths}
  If a hereditary class of graphs $\Cls$ is not \kl{$\forall$-well-quasi-ordered},
  then it \kl{existentially transduces} the class of all finite paths.
\end{corollary}
\begin{proof}
  \todo[inline]{\textbf{MAEL ICI}}
  It follows from \cref{lem:regular-antichain} and
  \cref{lem:paths-transduction}.
\end{proof}

\begin{conjecture}
  \label{conj:paths-transduction}
  A hereditary class of graphs $\Cls$ is \kl{$\forall$-well-quasi-ordered} if and
  only if it does not \kl{existentially interprets} the class of all finite paths.
\end{conjecture}

This could be 
